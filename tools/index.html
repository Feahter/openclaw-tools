<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#1a1a2e">
    <title>ğŸ”§ OpenClaw å·¥å…·ç®±</title>
    <style>
        /* Reset & Base */
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { color-scheme: dark; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); 
            color: #eee; 
            min-height: 100vh; 
            padding: 40px 20px;
        }
        
        /* Typography */
        h1 { 
            color: #00d9ff; 
            margin-bottom: 10px; 
            font-size: clamp(1.5em, 5vw, 2em); 
            text-align: center; 
            text-wrap: balance;
        }
        .subtitle { 
            color: #888; 
            text-align: center; 
            margin-bottom: 40px; 
            font-size: 1.1em; 
        }
        
        /* Grid Layout */
        .tools-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 20px; 
            max-width: 1200px; 
            margin: 0 auto; 
        }
        
        /* Cards */
        .tool-card { 
            background: rgba(22, 33, 62, 0.8); 
            backdrop-filter: blur(10px); 
            border-radius: 16px; 
            padding: 25px; 
            border: 1px solid rgba(255,255,255,0.1); 
            transition: transform 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer; 
            text-decoration: none; 
            color: inherit; 
            display: block;
        }
        .tool-card:hover { 
            transform: translateY(-5px); 
            border-color: #00d9ff; 
            box-shadow: 0 10px 40px rgba(0,217,255,0.2); 
        }
        .tool-card:focus-visible { 
            outline: 2px solid #00d9ff; 
            outline-offset: 2px; 
        }
        .tool-icon { font-size: 3em; margin-bottom: 15px; }
        .tool-title { 
            font-size: 1.3em; 
            font-weight: 600; 
            color: #fff; 
            margin-bottom: 10px; 
        }
        .tool-desc { 
            color: #888; 
            font-size: 0.9em; 
            line-height: 1.6; 
            margin-bottom: 15px; 
        }
        .tool-link { 
            display: inline-flex; 
            align-items: center; 
            gap: 5px; 
            background: linear-gradient(135deg, #00c853, #00e676); 
            color: #fff; 
            padding: 8px 16px; 
            border-radius: 8px; 
            font-size: 0.85em; 
            text-decoration: none;
            transition: transform 0.15s ease;
        }
        .tool-link:hover { transform: scale(1.05); }
        
        /* Status Indicators */
        .status-dot { 
            display: inline-block; 
            width: 8px; 
            height: 8px; 
            border-radius: 50%; 
            margin-right: 8px; 
        }
        .status-dot.ok { 
            background: #00c853; 
            box-shadow: 0 0 10px #00c853; 
        }
        .status-dot.err { 
            background: #ff5252; 
        }
        .status-dot.loading { 
            background: #ffc107; 
        }
        
        /* Footer */
        .footer { 
            text-align: center; 
            margin-top: 50px; 
            color: #666; 
            font-size: 0.9em; 
        }
        .footer a { 
            color: #00d9ff; 
            text-decoration: none; 
        }
        .footer code { 
            background: rgba(255,255,255,0.1); 
            padding: 2px 6px; 
            border-radius: 4px; 
        }
        
        /* Quick Actions */
        .quick-actions { 
            max-width: 1200px; 
            margin: 0 auto 40px; 
            display: flex; 
            gap: 15px; 
            flex-wrap: wrap; 
            justify-content: center; 
        }
        .quick-btn { 
            background: rgba(15,52,96,0.6); 
            border: 1px solid rgba(255,255,255,0.1); 
            color: #fff; 
            padding: 12px 20px; 
            border-radius: 10px; 
            cursor: pointer; 
            font-size: 0.9em; 
            transition: background 0.2s ease, border-color 0.2s ease;
        }
        .quick-btn:hover { 
            background: rgba(15,52,96,0.9); 
            border-color: #00d9ff; 
        }
        .quick-btn:focus-visible { 
            outline: 2px solid #00d9ff; 
            outline-offset: 2px; 
        }
        
        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .tools-grid { grid-template-columns: 1fr; }
            body { padding: 20px 15px; }
            .quick-actions { gap: 10px; }
            .quick-btn { padding: 10px 15px; width: 100%; }
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ OpenClaw å·¥å…·ç®±</h1>
    <div class="subtitle">é›†æˆå¼€å‘ä¸ç®¡ç†å·¥å…·é›†åˆ</div>
    
    <!-- Quick Actions -->
    <nav class="quick-actions" aria-label="å¿«æ·æ“ä½œ">
        <button class="quick-btn" onclick="openAll()" aria-label="å¯åŠ¨å…¨éƒ¨å·¥å…·">ğŸš€ å¯åŠ¨å…¨éƒ¨</button>
        <button class="quick-btn" onclick="checkAll()" aria-label="æ£€æŸ¥æ‰€æœ‰æœåŠ¡çŠ¶æ€">ğŸ” æ£€æŸ¥çŠ¶æ€</button>
        <button class="quick-btn" onclick="openFolder()" aria-label="æ‰“å¼€å·¥å…·ç›®å½•">ğŸ“ æ‰“å¼€ç›®å½•</button>
    </nav>
    
    <!-- Tools Grid -->
    <main class="tools-grid">
        <!-- Model Management -->
        <a href="http://localhost:8768" class="tool-card" target="_blank" rel="noopener noreferrer">
            <div class="tool-icon" aria-hidden="true">ğŸ¤–</div>
            <div class="tool-title">ğŸ“¦ æ¨¡å‹ç®¡ç†</div>
            <div class="tool-desc">Ollama æœ¬åœ°æ¨¡å‹ç®¡ç†ã€API Keys ç®¡ç†ã€ç”¨é‡ç»Ÿè®¡</div>
            <div class="tool-link">
                http://localhost:8768 
                <span class="status-dot" id="status-8766" role="status" aria-label="æœåŠ¡çŠ¶æ€">...</span>
            </div>
        </a>
        
        <!-- Task Board -->
        <a href="http://localhost:8769" class="tool-card" target="_blank" rel="noopener noreferrer">
            <div class="tool-icon" aria-hidden="true">ğŸ“‹</div>
            <div class="tool-title">ğŸ“‹ ä»»åŠ¡çœ‹æ¿</div>
            <div class="tool-desc">ä¸»åŠ¨ä»»åŠ¡è¿½è¸ªã€è¿›åº¦ç®¡ç†ã€å››åˆ—çœ‹æ¿è§†å›¾</div>
            <div class="tool-link">
                http://localhost:8769 
                <span class="status-dot" id="status-8767" role="status" aria-label="æœåŠ¡çŠ¶æ€">...</span>
            </div>
        </a>
        
        <!-- API Key Manager -->
        <button type="button" class="tool-card" onclick="runCli('api-key-manager.py')" aria-label="å¯åŠ¨ API Key ç®¡ç†å·¥å…·">
            <div class="tool-icon" aria-hidden="true">ğŸ”‘</div>
            <div class="tool-title">ğŸ”‘ API Key ç®¡ç†</div>
            <div class="tool-desc">å‘½ä»¤è¡Œç®¡ç†å¤š Provider API Keysï¼Œæ”¯æŒæ·»åŠ /åˆ—å‡º/æµ‹è¯•</div>
            <div class="tool-link">CLI: python3 api-key-manager.py</div>
        </button>
        
        <!-- Auto Switcher -->
        <button type="button" class="tool-card" onclick="runCli('api-auto-switch.py')" aria-label="å¯åŠ¨è‡ªåŠ¨åˆ‡æ¢å·¥å…·">
            <div class="tool-icon" aria-hidden="true">ğŸ”„</div>
            <div class="tool-title">ğŸ”„ è‡ªåŠ¨åˆ‡æ¢</div>
            <div class="tool-desc">API ä½™é¢ä¸è¶³æ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨ Key</div>
            <div class="tool-link">CLI: python3 api-auto-switch.py monitor &</div>
        </button>
        
        <!-- API Scanner -->
        <button type="button" class="tool-card" onclick="runCli('api-reserve-scanner.py')" aria-label="å¯åŠ¨ API æ‰«æå·¥å…·">
            <div class="tool-icon" aria-hidden="true">ğŸ”</div>
            <div class="tool-title">ğŸ” API æ‰«æ</div>
            <div class="tool-desc">æ‰«æå¹¶æ”¶é›†å¯ç”¨çš„å…è´¹/å»‰ä»· API</div>
            <div class="tool-link">CLI: python3 api-reserve-scanner.py</div>
        </button>
    </main>
    
    <footer class="footer">
        <p>å·¥å…·ç›®å½•: <code>/Users/fuzhuo/.openclaw/workspace/tools/</code></p>
        <p>æŒ‰ <kbd>Ctrl+C</kbd> åœæ­¢æœåŠ¡</p>
    </footer>
    
    <script>
        const tools = [
            { port: 8766, name: 'æ¨¡å‹ç®¡ç†' },
            { port: 8767, name: 'ä»»åŠ¡çœ‹æ¿' }
        ];
        
        async function checkStatus(port, id) {
            const dot = document.getElementById(id);
            dot.className = 'status-dot loading';
            try {
                const res = await fetch(`http://localhost:${port}/api/status`, { 
                    signal: AbortSignal.timeout(2000) 
                });
                dot.className = 'status-dot ok';
                dot.setAttribute('aria-label', `${port} æœåŠ¡è¿è¡Œæ­£å¸¸`);
            } catch (e) {
                dot.className = 'status-dot err';
                dot.setAttribute('aria-label', `${port} æœåŠ¡æœªè¿è¡Œ`);
            }
        }
        
        function checkAll() {
            tools.forEach(t => checkStatus(t.port, `status-${t.port}`));
        }
        
        function runCli(script) {
            const term = window.open('', '_blank', 'width=600,height=400');
            if (term) {
                term.document.write(`
                    <html><head><title>${script}</title></head>
                    <body style="background:#1a1a2e;color:#fff;padding:20px;font-family:monospace;">
                        <h3>æ­£åœ¨å¯åŠ¨: ${script}</h3>
                        <pre>cd /Users/fuzhuo/.openclaw/workspace/tools/
python3 ${script}

æŒ‰ Ctrl+C åœæ­¢
                        </pre>
                    </body></html>
                `);
            }
        }
        
        function openAll() {
            tools.forEach(t => window.open(`http://localhost:${t.port}`, '_blank'));
        }
        
        function openFolder() {
            window.open('file:///Users/fuzhuo/.openclaw/workspace/tools/');
        }
        
        // Initialize status check
        checkAll();
        // Refresh every 10 seconds
        setInterval(checkAll, 10000);
    </script>
</body>
</html>
